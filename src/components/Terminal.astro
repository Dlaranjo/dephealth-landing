---
const signals = [
  { icon: '!', text: 'Last commit 847 days ago', bad: true },
  { icon: '!', text: 'Bus factor: 1 (single maintainer)', bad: true },
  { icon: '!', text: '12 issues with no response', bad: true },
  { icon: 'âœ“', text: 'No known vulnerabilities', bad: false }
]
---

<section class="py-16 animate-fade-in-up stagger-3 opacity-0">
  <span class="text-xs font-semibold tracking-widest uppercase text-blue-400 mb-4 block">
    How It Works
  </span>

  <h2 class="text-2xl md:text-3xl font-bold mb-4">
    Check any package in seconds
  </h2>

  <p class="text-zinc-400 mb-8 max-w-2xl">
    Simple CLI and API. Get health scores, risk predictions, and actionable recommendations.
  </p>

  <!-- Terminal Window -->
  <div class="bg-[#111113] border border-[#1a1a1f] rounded-xl overflow-hidden shadow-2xl animate-glow">
    <!-- Terminal Header -->
    <div class="bg-[#0a0a0b] px-4 py-3 flex items-center gap-2 border-b border-[#1a1a1f]">
      <div class="w-3 h-3 rounded-full bg-[#ff5f57]"></div>
      <div class="w-3 h-3 rounded-full bg-[#febc2e]"></div>
      <div class="w-3 h-3 rounded-full bg-[#28c840]"></div>
      <span class="flex-1 text-center text-xs text-zinc-500 font-mono">
        dephealth check risky-package
      </span>
    </div>

    <!-- Terminal Body -->
    <div class="p-6 font-mono text-sm leading-loose overflow-x-auto">
      <!-- Command Line -->
      <div class="mb-1">
        <span class="text-green-500">$</span>
        <span class="text-white ml-2">npx dephealth check risky-package</span>
      </div>

      <!-- Output Box -->
      <div class="mt-4 p-5 bg-black/30 rounded-lg terminal-output">
        <!-- Header -->
        <div class="flex items-center justify-between pb-4 mb-4 border-b border-[#1a1a1f]">
          <span class="font-semibold text-base">risky-package</span>
          <span class="px-3 py-1 text-sm font-semibold rounded-md bg-red-900 text-red-500">
            34/100 AT RISK
          </span>
        </div>

        <!-- Metrics -->
        <div class="space-y-2 text-zinc-400">
          <div class="flex justify-between">
            <span class="text-zinc-500">Health Score</span>
            <span class="text-red-500">34/100 - Critical</span>
          </div>
          <div class="flex justify-between">
            <span class="text-zinc-500">Abandonment Risk</span>
            <span class="text-red-500">67% in 12 months</span>
          </div>
          <div class="flex justify-between">
            <span class="text-zinc-500">Confidence</span>
            <span>High (sufficient data)</span>
          </div>
        </div>

        <!-- Signals -->
        <div class="mt-4 pt-4 border-t border-[#1a1a1f] space-y-2">
          {signals.map((signal) => (
            <div class="flex items-center gap-2 text-xs">
              <span class={signal.bad ? 'text-red-500' : 'text-green-500'}>
                {signal.icon}
              </span>
              <span class="text-zinc-400">{signal.text}</span>
            </div>
          ))}
        </div>
      </div>
    </div>
  </div>
</section>
